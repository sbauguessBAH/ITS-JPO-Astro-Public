---
import ProgramSection from "@/src/components/programs/ProgramSection.astro";
import Layout from "./_layout.astro";
import Card from "@/src/components/programs/card/Card.astro";
import CardHeader from "@/src/components/programs/card/CardHeader.astro";
import CardBody from "@/src/components/programs/card/CardBody.astro";
import issLogo from "@/src/assets/images/intersection-safety/iss-logo.png";
import { Image } from "astro:assets";
import Link from "@/src/components/Link.astro";
import BoxArrowUpRightIcon from "@/src/components/programs/icons/BoxArrowUpRightIcon.astro";
import CardFooter from "@/src/components/programs/card/CardFooter.astro";
---
<style>
  .resource-container {
    display: grid;
    grid-template-columns: repeat(1, 1fr);
    gap: var(--size);
  }

  .resource-card-header {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
  }
  .resource-card-title {
    text-transform: none;
  }
  .resource-card-subtitle {
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
  }
  .resource-button {
    border: 1px solid #dee2e6;
    padding: 0.2rem 0.5rem;
    display: inline-block;
    text-align: center;
    text-decoration: none;
    gap: 1rem;
    justify-content: center;
    align-items: center;
    font-size: 0.9rem;
    font-weight: 600;
    color: black;
    border-radius: var(--radius-sm);
    transition: all var(--transition-duration) ease-in-out;
  }
  .resource-button::after {
    content: "";
  }
  .resource-button:hover {
    font-weight: 600;
    background: #dee2e6;
  }

  .resource-link-container {
    display: inline-flex;
    flex-direction: row;
    gap: 4px;
  }

  @media (min-width: 1200px) {
    .resource-container {
      grid-template-columns: repeat(3, 1fr);
    }
  }
</style>
<Layout>
  <main class="program-main">
    <ProgramSection>
      <h2 class="program-title-lg">
        Intersection Safety Systems (ISS) Development
      </h2>
      <div class="row">
        <div class="col-8">
          <p class="program-text">
            Building on the success of the Intersection Safety Challenge, the Intersection Safety Systems 
            (ISS) development initiative aims to support development of innovative ISS that can operate effectively 
            under real-world conditions. The goal is to accelerate the development of full end-to-end 
            prototype ISS and its components, including sensor fusion, AI-based decision-making, and conflict mitigation. 
          </p>
        </div>
        <div class="col-4">
          <Image
            src={issLogo}
            alt="Intersection Safety Systems Logo"
            class="img-fluid"
          />
        </div>
      </div>
      <h2 class="program-title-lg mt-4">
        Key Research Questions
      </h2>
      <ol class="program-list">
        <li>
          Conflict Prediction Reliability and Speed: Can an ISS reliably predict conflicts early enough 
          and fast enough to take mitigating actions? If no, which component(s) of the ISS require additional 
          R&D to improve speed and reliability? How much improvement is needed to implement potential mitigations (see below)? 
        </li>
        <li>
          Mitigation Strategies and Effectiveness: Given ISS response speed, what are possible conflict 
          mitigation strategies (e.g., warnings, prohibiting unprotected turns, others)? Which types 
          of conflict mitigations (or combinations of mitigations) are most effective 
          at preventing vulnerable road user-vehicle conflicts? 
        </li>
        <li>
          ISS Cost Effectiveness: Which ISS components are most expensive? Can existing 
          sensors be repurposed for use in an ISS? What are other strategies to reduce 
          overall ISS costs? Can such a system be deployed cost-effectively today? 
          Under what conditions and for which particular intersection geometries? 
        </li>
        <li>
          ISS Potential for Broader Deployment: Given the current state of ISS technology, 
          are narrow ISSs (e.g., for a specific ODD or use case) or a general-purpose 
          ISS more practical for near-term deployment? 
        </li>
      </ol>
      <h2 class="program-title-lg my-4">
        Additional Resources
      </h2>
      <div class="resource-container">
        <Card shadow="sm">
          <CardBody>
            <div class="resource-card-header p-2">
              <h3 class="resource-card-title">Intersection Safety System (ISS) Prototyping</h3>
              <p class="resource-card-subtitle">Issued on April 25, 2025 | Closed on May 9, 2025</p>
            </div>
          </CardBody>
          <CardFooter>
            <div class="resource-link-container px-2">
              <a 
                class="resource-button" 
                rel="noopener noreferrer" 
                target="_blank"
                href="https://sam.gov/opp/aaedf98452c64392b5e7669d95c33db6/view"
              >
                <BoxArrowUpRightIcon size={12} />
                Sources Sought Notice
              </a>
            </div>
          </CardFooter>
        </Card>
      </div>
    </ProgramSection>
  </main>
</Layout>