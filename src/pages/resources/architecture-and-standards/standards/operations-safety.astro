---
import { getCollection } from "astro:content";
import StandardsLayout from "./_standards-layout.astro";

const standards = await getCollection("standardsList")
  .then(collection => collection
    .map(row => row.data)
    .filter(row => row.category === "Operations/Safety")
  )
---
<style>
  .table th, .table td {
    text-align: left;
  }
</style>

<StandardsLayout>
  <h2 class="blue">Operations/Safety</h2>
  <p>
    Operations/Safety standards emphasize the efficacy of transportation equipment on arterial roadways and freeways, as well as detailing the basics of Transportation Systems Management and Operations (TSMO) strategy through different protocols, frameworks, rules, and conventions.  
  </p>
  <table class="table">
    <thead>
      <tr>
        <th scope="col">SDO</th>
        <th scope="col">Name</th>
      </tr>
    </thead>
    <tbody>
      {standards.map(standard => (
        <tr>
          <th scope="row">
            {standard.sdo}
          </th>
          <td>
            <a 
              href={standard.link} 
              rel="noopener noreferrer" 
              target="_blank" 
              class="link"
            >
              {standard.name}
            </a>
          </td>
        </tr>
      ))}
    </tbody>
  </table>
</StandardsLayout>